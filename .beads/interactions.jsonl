{"id":"django-litefs-0r1","title":"Add StaticLeaderConfig value object","description":"Create StaticLeaderConfig dataclass in litefs/domain/settings.py with primary_node_id field. Add to LiteFSSettings as optional static_config field. Validate that static_config is present when leader_election=\"static\".","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:12:44.205939+01:00","updated_at":"2025-12-25T14:14:01.289208+01:00","closed_at":"2025-12-25T14:14:01.289208+01:00","close_reason":"Closed","labels":["domain","raft-001"]}
{"id":"django-litefs-5tc","title":"Update Django AppConfig for primary initialization","description":"Modify litefs_django/apps.py ready() hook to call PrimaryInitializer.initialize_if_needed() on startup. Log which node is designated primary.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:12:57.99904+01:00","updated_at":"2025-12-25T14:14:01.293189+01:00","closed_at":"2025-12-25T14:14:01.293189+01:00","close_reason":"Closed","labels":["django","raft-001"],"dependencies":[{"issue_id":"django-litefs-5tc","depends_on_id":"django-litefs-ame","type":"blocks","created_at":"2025-12-25T14:13:06.842499+01:00","created_by":"daemon"},{"issue_id":"django-litefs-5tc","depends_on_id":"django-litefs-cip","type":"blocks","created_at":"2025-12-25T14:13:06.986504+01:00","created_by":"daemon"}]}
{"id":"django-litefs-71w","title":"Move Django configuration to pytest fixture","description":"Move Django setup from module import time to pytest fixture. Currently Django is configured at module import in tests/django_adapter/unit/__init__.py (lines 6-32), causing side effects and setup overhead for all tests.\n\nLocation: tests/django_adapter/unit/__init__.py (lines 6-32)\n\nImpact:\n- Django setup before any test runs (even tests that don't need it)\n- Side effects leak between test modules\n- If Django setup fails, ALL unit tests fail to import\n\nAction:\n1. Move Django setup code to tests/django_adapter/unit/conftest.py as session-scoped autouse fixture\n2. Empty tests/django_adapter/unit/__init__.py of all Django setup code\n3. Use settings.configure() within fixture with test-specific database\n\nVerification: pytest tests/django_adapter/unit/ -v passes with fixture-based setup","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T13:33:13.791123+01:00","updated_at":"2025-12-25T13:43:24.446714+01:00","closed_at":"2025-12-25T13:43:24.446714+01:00","close_reason":"Closed","labels":["architecture-review-2025"]}
{"id":"django-litefs-8xq","title":"Architecture Review Actions (2025-12-25)","description":"Actions identified from 5-agent parallel architecture review. Covers test organization, code deduplication, and configuration improvements.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-25T13:35:45.635115+01:00","updated_at":"2025-12-25T13:35:45.635115+01:00","dependencies":[{"issue_id":"django-litefs-8xq","depends_on_id":"django-litefs-xle","type":"blocks","created_at":"2025-12-25T14:34:10.351191+01:00","created_by":"daemon"},{"issue_id":"django-litefs-8xq","depends_on_id":"django-litefs-q29","type":"blocks","created_at":"2025-12-25T14:34:11.404489+01:00","created_by":"daemon"}]}
{"id":"django-litefs-8xq.1","title":"Delete stale tests/django/ directory","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T13:43:40.306366+01:00","updated_at":"2025-12-25T13:58:05.931753+01:00","closed_at":"2025-12-25T13:58:05.931755+01:00","dependencies":[{"issue_id":"django-litefs-8xq.1","depends_on_id":"django-litefs-8xq","type":"parent-child","created_at":"2025-12-25T13:43:40.309693+01:00","created_by":"daemon"}]}
{"id":"django-litefs-8xq.2","title":"Move Django configuration to pytest fixture","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T13:43:41.523396+01:00","updated_at":"2025-12-25T13:58:08.534347+01:00","closed_at":"2025-12-25T13:58:08.534349+01:00","dependencies":[{"issue_id":"django-litefs-8xq.2","depends_on_id":"django-litefs-8xq","type":"parent-child","created_at":"2025-12-25T13:43:41.523751+01:00","created_by":"daemon"}]}
{"id":"django-litefs-8xq.3","title":"Create core integration test directory and move concurrency tests","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T13:43:42.679633+01:00","updated_at":"2025-12-25T13:58:10.221316+01:00","closed_at":"2025-12-25T13:58:10.221319+01:00","dependencies":[{"issue_id":"django-litefs-8xq.3","depends_on_id":"django-litefs-8xq","type":"parent-child","created_at":"2025-12-25T13:43:42.680094+01:00","created_by":"daemon"}]}
{"id":"django-litefs-8xq.4","title":"Extract SQL detection logic to core","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T13:43:43.716826+01:00","updated_at":"2025-12-25T14:02:30.576104+01:00","closed_at":"2025-12-25T14:02:30.576106+01:00","dependencies":[{"issue_id":"django-litefs-8xq.4","depends_on_id":"django-litefs-8xq","type":"parent-child","created_at":"2025-12-25T13:43:43.718602+01:00","created_by":"daemon"}]}
{"id":"django-litefs-8xq.5","title":"Consolidate mount path validation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T13:43:44.767548+01:00","updated_at":"2025-12-25T14:02:30.735546+01:00","closed_at":"2025-12-25T14:02:30.735548+01:00","dependencies":[{"issue_id":"django-litefs-8xq.5","depends_on_id":"django-litefs-8xq","type":"parent-child","created_at":"2025-12-25T13:43:44.769332+01:00","created_by":"daemon"}]}
{"id":"django-litefs-8xq.6","title":"Make transaction mode configurable","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T13:43:45.974922+01:00","updated_at":"2025-12-25T14:02:30.892952+01:00","closed_at":"2025-12-25T14:02:30.892954+01:00","dependencies":[{"issue_id":"django-litefs-8xq.6","depends_on_id":"django-litefs-8xq","type":"parent-child","created_at":"2025-12-25T13:43:45.976442+01:00","created_by":"daemon"}]}
{"id":"django-litefs-8xq.7","title":"Add Django settings reset fixture","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-25T13:43:47.209291+01:00","updated_at":"2025-12-25T14:02:31.047706+01:00","closed_at":"2025-12-25T14:02:31.047709+01:00","dependencies":[{"issue_id":"django-litefs-8xq.7","depends_on_id":"django-litefs-8xq","type":"parent-child","created_at":"2025-12-25T13:43:47.210739+01:00","created_by":"daemon"}]}
{"id":"django-litefs-8xq.8","title":"Verify ports export in adapters __init__.py","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-25T13:43:48.469058+01:00","updated_at":"2025-12-25T14:02:31.204115+01:00","closed_at":"2025-12-25T14:02:31.204117+01:00","dependencies":[{"issue_id":"django-litefs-8xq.8","depends_on_id":"django-litefs-8xq","type":"parent-child","created_at":"2025-12-25T13:43:48.469549+01:00","created_by":"daemon"}]}
{"id":"django-litefs-8xq.9","title":"Document exception hierarchy intent","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-25T13:43:49.508998+01:00","updated_at":"2025-12-25T14:02:31.354611+01:00","closed_at":"2025-12-25T14:02:31.354613+01:00","dependencies":[{"issue_id":"django-litefs-8xq.9","depends_on_id":"django-litefs-8xq","type":"parent-child","created_at":"2025-12-25T13:43:49.509371+01:00","created_by":"daemon"}]}
{"id":"django-litefs-9dl","title":"Fix CTE SELECT false positive in is_write_operation","description":"Test: tests/django_adapter/unit/test_sql_properties.py::TestIsWriteOperationProperties::test_cte_select_not_write\n\nError: CTE WITH UPDATE AS (SELECT 1) SELECT is falsely detected as a write operation due to UPDATE keyword.\n\nThe SQL parser's regex is incorrectly matching the UPDATE keyword inside a CTE alias.\n\nDiscovered during: beads-work pipeline (2025-12-25)","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-25T16:27:56.656058+01:00","updated_at":"2025-12-25T16:49:29.061161+01:00","closed_at":"2025-12-25T16:49:29.061161+01:00","close_reason":"Completed by beads-work pipeline"}
{"id":"django-litefs-9md","title":"Verify ports export in adapters __init__.py","description":"Verify that PrimaryDetectorPort is properly exported from packages/litefs/src/litefs/adapters/__init__.py. Tests import from litefs.adapters.ports but export may be missing or incomplete.\n\nLocation: packages/litefs/src/litefs/adapters/__init__.py\n\nAction:\nVerify file contains proper exports:\n  from .ports import PrimaryDetectorPort\n  __all__ = ['PrimaryDetectorPort']\n\nAlso update to include sql_detection exports (from related medium-priority task):\n  from .sql_detection import is_write_operation, strip_sql_comments\n  __all__ = ['PrimaryDetectorPort', 'is_write_operation', 'strip_sql_comments']\n\nVerification: Imports work correctly: from litefs.adapters import PrimaryDetectorPort","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-25T13:33:43.244009+01:00","updated_at":"2025-12-25T13:43:25.230442+01:00","closed_at":"2025-12-25T13:43:25.230442+01:00","close_reason":"Closed","labels":["architecture-review-2025"]}
{"id":"django-litefs-ame","title":"Create PrimaryInitializer use case","description":"Create litefs/usecases/primary_initializer.py that creates .primary file on startup if this node is designated primary. Handle race conditions and permission errors gracefully.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:12:47.020568+01:00","updated_at":"2025-12-25T14:14:01.290648+01:00","closed_at":"2025-12-25T14:14:01.290648+01:00","close_reason":"Closed","labels":["raft-001","usecases"],"dependencies":[{"issue_id":"django-litefs-ame","depends_on_id":"django-litefs-0r1","type":"blocks","created_at":"2025-12-25T14:13:06.551368+01:00","created_by":"daemon"}]}
{"id":"django-litefs-c3k","title":"Create core integration test directory and move concurrency tests","description":"Create tests/core/integration/ directory and move concurrency tests from tests/core/unit/usecases/test_primary_detector.py. Tests currently marked @pytest.mark.unit spawn threads with threading.Thread() and have filesystem race conditions, violating unit test requirements.\n\nLocation: tests/core/unit/usecases/test_primary_detector.py (lines 42-265)\n\nPer CLAUDE.md: 'Unit tests must NOT spawn subprocesses, access filesystem beyond temp dirs, or require FUSE/Docker.'\n\nAction:\n1. Create directory structure: tests/core/integration/usecases/\n2. Move concurrency tests to tests/core/integration/usecases/test_primary_detector_concurrency.py\n3. Update markers from @pytest.mark.unit to @pytest.mark.integration + @pytest.mark.concurrency\n4. Keep simple unit tests (lines 10-39) in original location\n\nVerification:\n- pytest -m unit runs fast (no threading tests)\n- pytest -m integration includes concurrency tests","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T13:33:16.159262+01:00","updated_at":"2025-12-25T13:43:24.57358+01:00","closed_at":"2025-12-25T13:43:24.57358+01:00","close_reason":"Closed","labels":["architecture-review-2025"]}
{"id":"django-litefs-cip","title":"Update Django settings reader for static config","description":"Extend litefs_django/settings.py to map LITEFS['STATIC_PRIMARY_NODE_ID'] to static_config.primary_node_id. Support environment variable fallback.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:12:54.776024+01:00","updated_at":"2025-12-25T14:14:01.292405+01:00","closed_at":"2025-12-25T14:14:01.292405+01:00","close_reason":"Closed","labels":["django","raft-001"],"dependencies":[{"issue_id":"django-litefs-cip","depends_on_id":"django-litefs-0r1","type":"blocks","created_at":"2025-12-25T14:13:06.69835+01:00","created_by":"daemon"}]}
{"id":"django-litefs-cuo","title":"Extract SQL detection logic to core","description":"Extract _is_write_operation() and _strip_sql_comments() from Django backend to core package. Currently duplicated between production code and tests, breaking DRY principle.\n\nLocations:\n- packages/litefs-django/src/litefs_django/db/backends/litefs/base.py (lines 69-144)\n- tests/django_adapter/unit/test_db_backend_concurrency.py (lines 43-109)\n\nAction:\n1. Create packages/litefs/src/litefs/adapters/sql_detection.py with:\n   - strip_sql_comments(sql: str) -\u003e str\n   - is_write_operation(sql: str) -\u003e bool\n   - Regex patterns for block/line comments and CTE write keywords\n\n2. Update packages/litefs/src/litefs/adapters/__init__.py to export:\n   - from .ports import PrimaryDetectorPort\n   - from .sql_detection import is_write_operation, strip_sql_comments\n\n3. Update Django backend to import from litefs.adapters.sql_detection\n\n4. Remove duplicated code from test_db_backend_concurrency.py\n\nVerification: Tests pass importing from litefs.adapters.sql_detection","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T13:33:26.892311+01:00","updated_at":"2025-12-25T13:43:24.704713+01:00","closed_at":"2025-12-25T13:43:24.704713+01:00","close_reason":"Closed","labels":["architecture-review-2025"]}
{"id":"django-litefs-ieo","title":"Add NodeIDResolver port","description":"Create NodeIDResolver protocol in adapters/ports.py with get_node_id() method. Implement EnvironmentVariableNodeIDResolver and HostnameNodeIDResolver for different deployment environments.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T14:12:51.426386+01:00","updated_at":"2025-12-25T14:14:01.291423+01:00","closed_at":"2025-12-25T14:14:01.291423+01:00","close_reason":"Closed","labels":["adapters","ports","raft-001"]}
{"id":"django-litefs-kos","title":"Document exception hierarchy intent","description":"Document why NotPrimaryError inherits from Django's DatabaseError. This is intentional for proper Django error handling but not documented.\n\nLocation: packages/litefs-django/src/litefs_django/exceptions.py\n\nProblem: Non-obvious inheritance choice may confuse future maintainers.\n\nAction:\nAdd docstring to NotPrimaryError explaining:\n- Inherits from django.db.DatabaseError intentionally\n- Enables proper Django error handling in transaction middleware\n- Supports debugging and exception propagation in Django context\n- Allows Django to treat as database-level error\n\nExample:\n'''\nRaised when a write operation is attempted on a replica node.\n\nInherits from django.db.DatabaseError intentionally for proper\nDjango error handling in transaction middleware, debugging, and\nexception propagation.\n'''\n\nVerification: Docstring present and clear","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-25T13:33:44.755285+01:00","updated_at":"2025-12-25T13:43:25.362412+01:00","closed_at":"2025-12-25T13:43:25.362412+01:00","close_reason":"Closed","labels":["architecture-review-2025"]}
{"id":"django-litefs-obs","title":"Add Django settings reset fixture","description":"Add pytest fixture to reset Django state between tests. Currently if one test modifies Django settings or cache, it affects subsequent tests.\n\nLocation: tests/django_adapter/unit/conftest.py\n\nProblem: Test isolation - Django caches and settings can leak between tests.\n\nAction:\nAdd autouse fixture that:\n1. Clears Django cache after each test\n2. Resets any modified settings to original values\n3. Handles missing cache gracefully\n\nVerification: Tests pass with state isolation, no cross-test contamination","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-25T13:33:40.66954+01:00","updated_at":"2025-12-25T13:43:25.10222+01:00","closed_at":"2025-12-25T13:43:25.10222+01:00","close_reason":"Closed","labels":["architecture-review-2025"]}
{"id":"django-litefs-q29","title":"Phase 2: Raft Leader Election","description":"Epic for implementing Raft-based leader election with automatic failover, health checks, and multi-node Docker testing. Depends on Phase 1 (Static Leader Election) completion.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-25T14:27:35.129163+01:00","updated_at":"2025-12-25T14:27:35.129163+01:00","labels":["leadership","phase-2","raft"],"dependencies":[{"issue_id":"django-litefs-q29","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:28:01.755432+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29","depends_on_id":"django-litefs-q29.1","type":"blocks","created_at":"2025-12-25T14:44:00.325003+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29","depends_on_id":"django-litefs-q29.2","type":"blocks","created_at":"2025-12-25T14:44:00.624343+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29","depends_on_id":"django-litefs-q29.3","type":"blocks","created_at":"2025-12-25T14:44:00.952105+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29","depends_on_id":"django-litefs-q29.4","type":"blocks","created_at":"2025-12-25T14:44:01.298608+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29","depends_on_id":"django-litefs-q29.5","type":"blocks","created_at":"2025-12-25T14:44:01.612222+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29","depends_on_id":"django-litefs-q29.6","type":"blocks","created_at":"2025-12-25T14:44:01.922466+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29","depends_on_id":"django-litefs-q29.7","type":"blocks","created_at":"2025-12-25T14:44:02.250469+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29","depends_on_id":"django-litefs-q29.8","type":"blocks","created_at":"2025-12-25T14:44:02.58635+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29","depends_on_id":"django-litefs-q29.9","type":"blocks","created_at":"2025-12-25T14:44:02.921127+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29","depends_on_id":"django-litefs-q29.10","type":"blocks","created_at":"2025-12-25T14:44:03.252493+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29","depends_on_id":"django-litefs-q29.11","type":"blocks","created_at":"2025-12-25T14:44:03.611325+01:00","created_by":"daemon"}]}
{"id":"django-litefs-q29.1","title":"Define RaftLeaderElectionPort in adapters/ports.py","description":"Define the RaftLeaderElectionPort interface that abstracts Raft election logic. This is a prerequisite for RAFT-002 task.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:27:41.387627+01:00","updated_at":"2025-12-25T16:49:29.062064+01:00","closed_at":"2025-12-25T16:49:29.062064+01:00","close_reason":"Completed by beads-work pipeline","labels":["architecture","ports","prereq","raft-002"],"dependencies":[{"issue_id":"django-litefs-q29.1","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:45:42.536739+01:00","created_by":"daemon"}]}
{"id":"django-litefs-q29.10","title":"Add health checks with leader status","description":"Implement health check endpoint returning leader status, cluster state, replication lag. Expose via core PrimaryDetector. Depends on: HealthChecker use case (q29.4), Automatic failover (q29.9)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T14:27:49.261826+01:00","updated_at":"2025-12-25T14:27:49.261826+01:00","labels":["health","health-001","monitoring"],"dependencies":[{"issue_id":"django-litefs-q29.10","depends_on_id":"django-litefs-q29.4","type":"blocks","created_at":"2025-12-25T14:27:56.862739+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29.10","depends_on_id":"django-litefs-q29.9","type":"blocks","created_at":"2025-12-25T14:27:56.997144+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29.10","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:45:43.90971+01:00","created_by":"daemon"}]}
{"id":"django-litefs-q29.11","title":"Write integration tests with multi-node Docker Compose","description":"Create comprehensive Docker Compose test suite: 3-node cluster, leader election, failover, partition healing. Depends on: ClusterFixture (q29.6), Automatic failover (q29.9), Health checks (q29.10)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T14:27:49.466545+01:00","updated_at":"2025-12-25T14:27:49.466545+01:00","labels":["docker","integration","test-002","testing"],"dependencies":[{"issue_id":"django-litefs-q29.11","depends_on_id":"django-litefs-q29.6","type":"blocks","created_at":"2025-12-25T14:27:57.132557+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29.11","depends_on_id":"django-litefs-q29.9","type":"blocks","created_at":"2025-12-25T14:27:57.265557+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29.11","depends_on_id":"django-litefs-q29.10","type":"blocks","created_at":"2025-12-25T14:27:57.401938+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29.11","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:45:44.057234+01:00","created_by":"daemon"}]}
{"id":"django-litefs-q29.2","title":"Create RaftSettings and QuorumPolicy value objects in domain","description":"Create immutable value objects for Raft configuration: RaftSettings (node ID, cluster members, quorum size) and QuorumPolicy (election timeouts, heartbeat intervals). Prerequisite for RAFT-003.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:27:41.536512+01:00","updated_at":"2025-12-25T16:52:53.229346+01:00","closed_at":"2025-12-25T16:52:53.229346+01:00","close_reason":"Completed - Created RaftSettings and QuorumPolicy value objects with 39 tests","labels":["domain","prereq","raft-003"],"dependencies":[{"issue_id":"django-litefs-q29.2","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:45:42.681828+01:00","created_by":"daemon"}]}
{"id":"django-litefs-q29.3","title":"Create LeaderElectionPort abstraction (static vs raft)","description":"Define LeaderElectionPort that both StaticLeaderElection and RaftLeaderElection can implement. Allows switching between implementations. Prerequisite for CORE-002.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:27:41.683652+01:00","updated_at":"2025-12-25T16:49:33.991546+01:00","closed_at":"2025-12-25T16:49:33.991546+01:00","close_reason":"LeaderElectionPort already implemented by q29.5 (FailoverCoordinator task)","labels":["adapters","core-002","ports","prereq"],"dependencies":[{"issue_id":"django-litefs-q29.3","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:45:42.83644+01:00","created_by":"daemon"}]}
{"id":"django-litefs-q29.4","title":"Create HealthChecker use case + HealthStatus value object","description":"Define HealthChecker use case and HealthStatus value object (healthy/unhealthy/degraded). Prerequisite for HEALTH-001.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:27:41.835881+01:00","updated_at":"2025-12-25T16:49:29.057163+01:00","closed_at":"2025-12-25T16:49:29.057163+01:00","close_reason":"Completed by beads-work pipeline","labels":["domain","health-001","prereq","usecases"],"dependencies":[{"issue_id":"django-litefs-q29.4","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:45:43.001991+01:00","created_by":"daemon"}]}
{"id":"django-litefs-q29.5","title":"Create FailoverCoordinator use case","description":"Define FailoverCoordinator use case that coordinates leader election and state transitions. Prerequisite for RAFT-003.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:27:41.98546+01:00","updated_at":"2025-12-25T16:49:29.058586+01:00","closed_at":"2025-12-25T16:49:29.058586+01:00","close_reason":"Completed by beads-work pipeline","labels":["prereq","raft-003","usecases"],"dependencies":[{"issue_id":"django-litefs-q29.5","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:45:43.160049+01:00","created_by":"daemon"}]}
{"id":"django-litefs-q29.6","title":"Create ClusterFixture repository for Docker tests","description":"Create reusable test fixture for spinning up multi-node Docker Compose clusters with health verification. Prerequisite for TEST-002.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T14:27:42.136734+01:00","updated_at":"2025-12-25T16:49:29.06019+01:00","closed_at":"2025-12-25T16:49:29.06019+01:00","close_reason":"Completed by beads-work pipeline","labels":["docker","prereq","test-002","testing"],"dependencies":[{"issue_id":"django-litefs-q29.6","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:45:43.30939+01:00","created_by":"daemon"}]}
{"id":"django-litefs-q29.7","title":"Create py-leader package (Raft wrapper around PySyncObj)","description":"Create standalone py-leader package that wraps PySyncObj library. Implements RaftLeaderElectionPort interface. Handles quorum consensus, log replication, and automatic failover. Depends on: RaftLeaderElectionPort definition (q29.1)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T14:27:48.809027+01:00","updated_at":"2025-12-25T22:45:53.214786+01:00","closed_at":"2025-12-25T22:45:53.214786+01:00","close_reason":"Closed","labels":["core","raft","raft-002"],"dependencies":[{"issue_id":"django-litefs-q29.7","depends_on_id":"django-litefs-q29.1","type":"blocks","created_at":"2025-12-25T14:27:56.060869+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29.7","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:45:43.458639+01:00","created_by":"daemon"}]}
{"id":"django-litefs-q29.8","title":"Integrate py-leader into litefs-py as optional dependency","description":"Add py-leader as optional dependency to litefs-py core package. Create factory to instantiate RaftLeaderElection based on config. Export through litefs.__init__. Depends on: py-leader (q29.7) and LeaderElectionPort abstraction (q29.3)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T14:27:48.958894+01:00","updated_at":"2025-12-25T14:27:48.958894+01:00","labels":["core","core-002","raft","raft-002"],"dependencies":[{"issue_id":"django-litefs-q29.8","depends_on_id":"django-litefs-q29.7","type":"blocks","created_at":"2025-12-25T14:27:56.197013+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29.8","depends_on_id":"django-litefs-q29.3","type":"blocks","created_at":"2025-12-25T14:27:56.332282+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29.8","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:45:43.613777+01:00","created_by":"daemon"}]}
{"id":"django-litefs-q29.9","title":"Implement automatic failover (3-node quorum)","description":"Implement failover logic: leader detection, health checks, graceful handoff. Handle network partitions with 3-node quorum consensus. Depends on: CORE-002 integration (q29.8), RaftSettings/QuorumPolicy (q29.2), FailoverCoordinator (q29.5)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T14:27:49.113214+01:00","updated_at":"2025-12-25T14:27:49.113214+01:00","labels":["failover","raft","raft-003"],"dependencies":[{"issue_id":"django-litefs-q29.9","depends_on_id":"django-litefs-q29.8","type":"blocks","created_at":"2025-12-25T14:27:56.46645+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29.9","depends_on_id":"django-litefs-q29.2","type":"blocks","created_at":"2025-12-25T14:27:56.595656+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29.9","depends_on_id":"django-litefs-q29.5","type":"blocks","created_at":"2025-12-25T14:27:56.724757+01:00","created_by":"daemon"},{"issue_id":"django-litefs-q29.9","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:45:43.762588+01:00","created_by":"daemon"}]}
{"id":"django-litefs-rbo","title":"Delete stale tests/django/ directory","description":"Remove orphaned tests/django/ directory. Two parallel test hierarchies exist - tests/django/integration/ is stale while tests/django_adapter/ is active. The pytest.ini in litefs-django points to tests/django_adapter, making tests/django/ orphaned.\n\nAction:\n```bash\nrm -rf tests/django/\n```\n\nImpact:\n- Removes confusion about authoritative test location\n- Prevents new tests being added to wrong directory\n- Ensures CI only runs from active directory\n\nVerification: pytest --collect-only shows no tests from tests/django/","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T13:33:12.292362+01:00","updated_at":"2025-12-25T13:43:24.317357+01:00","closed_at":"2025-12-25T13:43:24.317357+01:00","close_reason":"Closed","labels":["architecture-review-2025"]}
{"id":"django-litefs-rt4","title":"Write unit tests for static leader election","description":"Add tests for StaticLeaderConfig validation, PrimaryInitializer behavior (success, race condition, permission error), and Django settings mapping.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:13:01.483273+01:00","updated_at":"2025-12-25T14:14:01.294146+01:00","closed_at":"2025-12-25T14:14:01.294146+01:00","close_reason":"Closed","labels":["raft-001","tests"],"dependencies":[{"issue_id":"django-litefs-rt4","depends_on_id":"django-litefs-0r1","type":"blocks","created_at":"2025-12-25T14:13:07.12137+01:00","created_by":"daemon"},{"issue_id":"django-litefs-rt4","depends_on_id":"django-litefs-ame","type":"blocks","created_at":"2025-12-25T14:13:07.263583+01:00","created_by":"daemon"},{"issue_id":"django-litefs-rt4","depends_on_id":"django-litefs-ieo","type":"blocks","created_at":"2025-12-25T14:13:07.418988+01:00","created_by":"daemon"},{"issue_id":"django-litefs-rt4","depends_on_id":"django-litefs-cip","type":"blocks","created_at":"2025-12-25T14:13:07.56355+01:00","created_by":"daemon"},{"issue_id":"django-litefs-rt4","depends_on_id":"django-litefs-5tc","type":"blocks","created_at":"2025-12-25T14:13:07.699231+01:00","created_by":"daemon"}]}
{"id":"django-litefs-sza","title":"Fix pre-existing test failure: test_round_trip_idempotence","description":"Test: tests/core/unit/usecases/test_config_generator.py::TestConfigRoundTrip::test_round_trip_idempotence\n\nError: Property-based test failing in config generator (unrelated to current work).\n\nDiscovered during: beads-work pipeline execution (2025-12-25)\n\nThis failure existed before the current work and must be fixed.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-25T15:40:45.25934+01:00","updated_at":"2025-12-25T16:27:35.630028+01:00","closed_at":"2025-12-25T16:27:35.630028+01:00","close_reason":"Closed"}
{"id":"django-litefs-tmm","title":"Consolidate mount path validation","description":"Consolidate duplicate mount path existence validation. Currently checked twice per connection - in __init__ (line 239-245) and get_new_connection() (line 280-287).\n\nLocation: packages/litefs-django/src/litefs_django/db/backends/litefs/base.py\n\nProblem: Same validation performed redundantly.\n\nAction (Recommended):\nCreate LiteFSMountPath value object in packages/litefs/src/litefs/domain/mount_path.py:\n- Validates path exists on construction\n- Provides primary_file property for .primary file location\n- Use in both PrimaryDetector and DatabaseWrapper\n\nAlternative: Remove validation from __init__, keep only in get_new_connection() for fail-fast on actual connection.\n\nVerification: Single validation point, tests pass","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T13:33:28.093936+01:00","updated_at":"2025-12-25T13:43:24.839185+01:00","closed_at":"2025-12-25T13:43:24.839185+01:00","close_reason":"Closed","labels":["architecture-review-2025"]}
{"id":"django-litefs-xg0","title":"TASK-RAFT-001: Static Leader Election","description":"Implement static leader election with manual failover support for 2-node minimum deployments. This enables LiteFS replication without Raft consensus.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-25T14:12:40.671055+01:00","updated_at":"2025-12-25T16:33:01.256545+01:00","closed_at":"2025-12-25T16:33:01.256545+01:00","close_reason":"All 6 subtasks complete: StaticLeaderConfig, PrimaryInitializer, NodeIDResolver, Django settings, AppConfig, and comprehensive unit tests (79 tests).","dependencies":[{"issue_id":"django-litefs-xg0","depends_on_id":"django-litefs-xg0.1","type":"blocks","created_at":"2025-12-25T14:43:08.609968+01:00","created_by":"daemon"},{"issue_id":"django-litefs-xg0","depends_on_id":"django-litefs-xg0.2","type":"blocks","created_at":"2025-12-25T14:43:08.766696+01:00","created_by":"daemon"},{"issue_id":"django-litefs-xg0","depends_on_id":"django-litefs-xg0.3","type":"blocks","created_at":"2025-12-25T14:43:08.922598+01:00","created_by":"daemon"},{"issue_id":"django-litefs-xg0","depends_on_id":"django-litefs-xg0.4","type":"blocks","created_at":"2025-12-25T14:43:09.078448+01:00","created_by":"daemon"},{"issue_id":"django-litefs-xg0","depends_on_id":"django-litefs-xg0.5","type":"blocks","created_at":"2025-12-25T14:43:09.239956+01:00","created_by":"daemon"},{"issue_id":"django-litefs-xg0","depends_on_id":"django-litefs-xg0.6","type":"blocks","created_at":"2025-12-25T14:43:09.387444+01:00","created_by":"daemon"}]}
{"id":"django-litefs-xg0.1","title":"Add StaticLeaderConfig value object","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:14:05.978013+01:00","updated_at":"2025-12-25T15:21:01.947153+01:00","closed_at":"2025-12-25T15:21:01.947153+01:00","close_reason":"Closed","labels":["domain","raft-001"]}
{"id":"django-litefs-xg0.2","title":"Create PrimaryInitializer use case","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:14:07.085365+01:00","updated_at":"2025-12-25T15:40:16.15104+01:00","closed_at":"2025-12-25T15:40:16.15104+01:00","close_reason":"Closed","labels":["raft-001","usecases"],"dependencies":[{"issue_id":"django-litefs-xg0.2","depends_on_id":"django-litefs-xg0.1","type":"blocks","created_at":"2025-12-25T14:14:17.369851+01:00","created_by":"daemon"}]}
{"id":"django-litefs-xg0.3","title":"Add NodeIDResolver port","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T14:14:08.330317+01:00","updated_at":"2025-12-25T15:40:16.152836+01:00","closed_at":"2025-12-25T15:40:16.152836+01:00","close_reason":"Closed","labels":["adapters","ports","raft-001"]}
{"id":"django-litefs-xg0.4","title":"Update Django settings reader for static config","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:14:09.372717+01:00","updated_at":"2025-12-25T15:40:16.153836+01:00","closed_at":"2025-12-25T15:40:16.153836+01:00","close_reason":"Closed","labels":["django","raft-001"],"dependencies":[{"issue_id":"django-litefs-xg0.4","depends_on_id":"django-litefs-xg0.1","type":"blocks","created_at":"2025-12-25T14:14:18.745455+01:00","created_by":"daemon"}]}
{"id":"django-litefs-xg0.5","title":"Update Django AppConfig for primary initialization","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:14:10.583731+01:00","updated_at":"2025-12-25T16:27:35.628586+01:00","closed_at":"2025-12-25T16:27:35.628586+01:00","close_reason":"Closed","labels":["django","raft-001"],"dependencies":[{"issue_id":"django-litefs-xg0.5","depends_on_id":"django-litefs-xg0.2","type":"blocks","created_at":"2025-12-25T14:14:24.228478+01:00","created_by":"daemon"},{"issue_id":"django-litefs-xg0.5","depends_on_id":"django-litefs-xg0.4","type":"blocks","created_at":"2025-12-25T14:14:25.240211+01:00","created_by":"daemon"}]}
{"id":"django-litefs-xg0.6","title":"Write unit tests for static leader election","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:14:12.162592+01:00","updated_at":"2025-12-25T16:32:40.431987+01:00","closed_at":"2025-12-25T16:32:40.431987+01:00","close_reason":"Tests already complete from previous tasks (xg0.1-xg0.5). 79 unit tests covering domain, use case, adapter, and Django integration layers.","labels":["raft-001","tests"],"dependencies":[{"issue_id":"django-litefs-xg0.6","depends_on_id":"django-litefs-xg0.5","type":"blocks","created_at":"2025-12-25T14:14:26.337981+01:00","created_by":"daemon"}]}
{"id":"django-litefs-xle","title":"Clean Architecture Port Definitions\n","description":"Address architectural gaps identified in ROADMAP.md review to maintain Clean Architecture compliance before Phase 2 and 3 implementation.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-25T14:04:07.852826+01:00","updated_at":"2025-12-25T14:07:50.758929+01:00","dependencies":[{"issue_id":"django-litefs-xle","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:13:13.617256+01:00","created_by":"daemon"},{"issue_id":"django-litefs-xle","depends_on_id":"django-litefs-xle.1","type":"blocks","created_at":"2025-12-25T14:44:12.196224+01:00","created_by":"daemon"},{"issue_id":"django-litefs-xle","depends_on_id":"django-litefs-xle.2","type":"blocks","created_at":"2025-12-25T14:44:12.515127+01:00","created_by":"daemon"},{"issue_id":"django-litefs-xle","depends_on_id":"django-litefs-xle.3","type":"blocks","created_at":"2025-12-25T14:44:12.81034+01:00","created_by":"daemon"},{"issue_id":"django-litefs-xle","depends_on_id":"django-litefs-xle.4","type":"blocks","created_at":"2025-12-25T14:44:13.083179+01:00","created_by":"daemon"}]}
{"id":"django-litefs-xle.1","title":"Add Raft configuration validation to domain entity","description":"Add validation to LiteFSSettings that enforces raft_self_addr and raft_peers are present when leader_election=\"raft\". Consider extracting RaftConfig value object.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:04:12.896553+01:00","updated_at":"2025-12-25T16:49:29.062853+01:00","closed_at":"2025-12-25T16:49:29.062853+01:00","close_reason":"Completed by beads-work pipeline","labels":["architecture","domain","phase-1"],"dependencies":[{"issue_id":"django-litefs-xle.1","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:45:44.211243+01:00","created_by":"daemon"}]}
{"id":"django-litefs-xle.2","title":"Define LeaderElectionPort interface","description":"Create LeaderElectionPort protocol in adapters/ports.py with start(), is_leader(), stop() methods. This ensures core has abstraction for Raft without direct py-leader imports.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T14:04:16.339945+01:00","updated_at":"2025-12-25T16:50:01.826058+01:00","closed_at":"2025-12-25T16:50:01.826058+01:00","close_reason":"LeaderElectionPort implemented by q29.5 with equivalent functionality (is_leader_elected, elect_as_leader, demote_from_leader). Start/stop lifecycle can be added later if needed.","labels":["architecture","phase-2","ports"],"dependencies":[{"issue_id":"django-litefs-xle.2","depends_on_id":"django-litefs-xle.1","type":"blocks","created_at":"2025-12-25T14:04:27.788656+01:00","created_by":"daemon"},{"issue_id":"django-litefs-xle.2","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:45:44.368574+01:00","created_by":"daemon"}]}
{"id":"django-litefs-xle.3","title":"Create RaftLeaderElectionAdapter","description":"Create thin adapter wrapping py-leader that implements LeaderElectionPort. Core never imports py-leader directly.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T14:04:19.564807+01:00","updated_at":"2025-12-25T22:45:53.212816+01:00","closed_at":"2025-12-25T22:45:53.212816+01:00","close_reason":"Closed","labels":["adapters","architecture","phase-2"],"dependencies":[{"issue_id":"django-litefs-xle.3","depends_on_id":"django-litefs-xle.2","type":"blocks","created_at":"2025-12-25T14:04:27.938469+01:00","created_by":"daemon"},{"issue_id":"django-litefs-xle.3","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:45:44.524899+01:00","created_by":"daemon"}]}
{"id":"django-litefs-xle.4","title":"Create FastAPI settings anti-corruption layer","description":"Create FastAPI settings reader that has zero Django imports. Ensure FastAPI adapter can coexist with Django adapter without cross-contamination.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T14:04:24.316767+01:00","updated_at":"2025-12-25T16:49:29.05944+01:00","closed_at":"2025-12-25T16:49:29.05944+01:00","close_reason":"Completed by beads-work pipeline","labels":["architecture","fastapi","phase-3"],"dependencies":[{"issue_id":"django-litefs-xle.4","depends_on_id":"django-litefs-xg0","type":"blocks","created_at":"2025-12-25T14:45:44.67801+01:00","created_by":"daemon"}]}
{"id":"django-litefs-xxn","title":"Make transaction mode configurable","description":"Make BEGIN IMMEDIATE transaction mode configurable. Currently hardcoded in base.py (lines 293-298), users cannot opt-out for specific transaction requirements.\n\nLocation: packages/litefs-django/src/litefs_django/db/backends/litefs/base.py\n\nAction:\n1. Add OPTIONS to Django database config:\n   DATABASES = {\n       'default': {\n           'ENGINE': 'litefs_django.db.backends.litefs',\n           'OPTIONS': {\n               'litefs_mount_path': '/var/lib/litefs',\n               'transaction_mode': 'IMMEDIATE',  # or 'DEFERRED' (default SQLite)\n           },\n       }\n   }\n\n2. Update get_new_connection() to read transaction_mode from settings_dict OPTIONS\n\n3. Apply mode at transaction level, not connection level (PRAGMA read_uncommitted, BEGIN mode)\n\nVerification: Tests pass with both IMMEDIATE and DEFERRED modes","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T13:33:29.293182+01:00","updated_at":"2025-12-25T13:43:24.969508+01:00","closed_at":"2025-12-25T13:43:24.969508+01:00","close_reason":"Closed","labels":["architecture-review-2025"]}
